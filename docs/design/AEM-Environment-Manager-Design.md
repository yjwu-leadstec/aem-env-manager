# è®¾è®¡æ–‡æ¡£

## AEM Environment Manager

**æŠ€æœ¯è®¾è®¡ä¸æ¶æ„æ–‡æ¡£**

---

| å±æ€§ | å†…å®¹ |
|------|------|
| ç‰ˆæœ¬ | 1.0 |
| æ—¥æœŸ | 2025å¹´1æœˆ |
| æŠ€æœ¯æ ˆ | Tauri + React + TypeScript + Rust |

---

## 1. æŠ€æœ¯é€‰å‹

### 1.1 æ•´ä½“æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯æ¡†æ¶ | React 18 + TypeScript | ç»„ä»¶åŒ–å¼€å‘ï¼Œç±»å‹å®‰å…¨ |
| UI ç»„ä»¶åº“ | Tailwind CSS + shadcn/ui | ç°ä»£åŒ– UIï¼Œå¿«é€Ÿå¼€å‘ |
| çŠ¶æ€ç®¡ç† | Zustand | è½»é‡çº§çŠ¶æ€ç®¡ç† |
| æ¡Œé¢æ¡†æ¶ | Tauri 2.0 | è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œä½“ç§¯å° |
| åç«¯è¯­è¨€ | Rust | é«˜æ€§èƒ½ï¼Œå®‰å…¨ï¼Œç³»ç»Ÿçº§æ“ä½œ |
| æ•°æ®å­˜å‚¨ | YAML æ–‡ä»¶ | äººç±»å¯è¯»ï¼Œæ˜“äºå¤‡ä»½ |
| æ‰“åŒ…åˆ†å‘ | Tauri å†…ç½® | ç”Ÿæˆ .dmg / .exe å®‰è£…åŒ… |

### 1.2 ä¸ºä»€ä¹ˆé€‰æ‹© Tauri

| å¯¹æ¯”é¡¹ | Tauri | Electron |
|--------|-------|----------|
| å®‰è£…åŒ…å¤§å° | ~10MB | ~150MB |
| å†…å­˜å ç”¨ | ä½ | é«˜ |
| å¯åŠ¨é€Ÿåº¦ | å¿« | è¾ƒæ…¢ |
| å®‰å…¨æ€§ | é«˜ï¼ˆRustï¼‰ | ä¸­ |
| è·¨å¹³å° | Windows/macOS/Linux | Windows/macOS/Linux |
| ç³»ç»Ÿè°ƒç”¨ | åŸç”Ÿ Rust | Node.js |

Tauri çš„ Rust åç«¯éå¸¸é€‚åˆæœ¬é¡¹ç›®éœ€è¦çš„ç³»ç»Ÿçº§æ“ä½œï¼ˆç¯å¢ƒå˜é‡ä¿®æ”¹ã€è¿›ç¨‹ç®¡ç†ã€æ–‡ä»¶æ“ä½œç­‰ï¼‰ã€‚

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 æ•´ä½“æ¶æ„å›¾

åº”ç”¨é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯è´Ÿè´£ UI å±•ç¤ºï¼Œåç«¯è´Ÿè´£ç³»ç»Ÿæ“ä½œã€‚

**æ¶æ„å±‚çº§ï¼š**

| å±‚çº§ | èŒè´£ | æŠ€æœ¯ |
|------|------|------|
| è¡¨ç°å±‚ | ç”¨æˆ·ç•Œé¢ã€äº¤äº’é€»è¾‘ | React + TypeScript |
| ä¸šåŠ¡å±‚ | ä¸šåŠ¡é€»è¾‘ã€çŠ¶æ€ç®¡ç† | Zustand + React Hooks |
| é€šä¿¡å±‚ | å‰åç«¯é€šä¿¡ | Tauri IPC (invoke/listen) |
| æœåŠ¡å±‚ | ç³»ç»Ÿæ“ä½œã€æ–‡ä»¶æ“ä½œ | Rust Commands |
| å¹³å°é€‚é…å±‚ | è·¨å¹³å°å·®å¼‚å¤„ç† | Rust cfg æ¡ä»¶ç¼–è¯‘ |

### 2.2 å‰ç«¯æ¶æ„

#### 2.2.1 ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ components/          # å¯å¤ç”¨ UI ç»„ä»¶
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ store/              # Zustand çŠ¶æ€å­˜å‚¨
â”œâ”€â”€ services/           # Tauri å‘½ä»¤è°ƒç”¨å°è£…
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ App.tsx             # åº”ç”¨å…¥å£
â””â”€â”€ main.tsx            # æ¸²æŸ“å…¥å£
```

#### 2.2.2 é¡µé¢ç»„ä»¶

| ç»„ä»¶ | è·¯ç”± | åŠŸèƒ½ |
|------|------|------|
| Dashboard | / | é¦–é¡µä»ªè¡¨ç›˜ |
| Profiles | /profiles | ç¯å¢ƒé…ç½®ç®¡ç† |
| AemInstances | /aem | AEM å®ä¾‹ç®¡ç† |
| JavaManager | /java | Java ç‰ˆæœ¬ç®¡ç† |
| NodeManager | /node | Node ç‰ˆæœ¬ç®¡ç† |
| MavenManager | /maven | Maven é…ç½®ç®¡ç† |
| LicenseManager | /licenses | AEM è®¸å¯è¯ç®¡ç† |
| Settings | /settings | å…¨å±€è®¾ç½® |
| SetupWizard | /setup | é¦–æ¬¡ä½¿ç”¨å‘å¯¼ |

### 2.3 åç«¯æ¶æ„

#### 2.3.1 ç›®å½•ç»“æ„

```
src-tauri/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ commands/               # Tauri å‘½ä»¤æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ config.rs           # é…ç½®æ–‡ä»¶è¯»å†™
â”‚   â”‚   â”œâ”€â”€ java.rs             # Java ç‰ˆæœ¬ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ node.rs             # Node ç‰ˆæœ¬ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ maven.rs            # Maven é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ aem.rs              # AEM å®ä¾‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ system.rs           # ç³»ç»Ÿæ“ä½œ
â”‚   â””â”€â”€ platform/               # è·¨å¹³å°é€‚é…å±‚
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ macos.rs            # macOS ç‰¹å®šå®ç°
â”‚       â””â”€â”€ windows.rs          # Windows ç‰¹å®šå®ç°
â””â”€â”€ tauri.conf.json             # Tauri é…ç½®æ–‡ä»¶
```

#### 2.3.2 Tauri Commands

åç«¯é€šè¿‡ Tauri Commands æš´éœ²åŠŸèƒ½ç»™å‰ç«¯è°ƒç”¨ï¼š

| å‘½ä»¤åˆ†ç±» | å‘½ä»¤åç§° | åŠŸèƒ½ |
|---------|---------|------|
| é…ç½®ç®¡ç† | load_config | åŠ è½½å…¨å±€é…ç½® |
| é…ç½®ç®¡ç† | save_config | ä¿å­˜å…¨å±€é…ç½® |
| é…ç½®ç®¡ç† | export_config | å¯¼å‡ºé…ç½®åˆ°æ–‡ä»¶ |
| é…ç½®ç®¡ç† | import_config | ä»æ–‡ä»¶å¯¼å…¥é…ç½® |
| Java ç®¡ç† | scan_java_versions | æ‰«æ Java ç‰ˆæœ¬ |
| Java ç®¡ç† | switch_java_version | åˆ‡æ¢ Java ç‰ˆæœ¬ |
| Java ç®¡ç† | get_current_java | è·å–å½“å‰ Java ç‰ˆæœ¬ |
| Node ç®¡ç† | scan_node_versions | æ‰«æ Node ç‰ˆæœ¬ |
| Node ç®¡ç† | switch_node_version | åˆ‡æ¢ Node ç‰ˆæœ¬ |
| Node ç®¡ç† | get_current_node | è·å–å½“å‰ Node ç‰ˆæœ¬ |
| Maven ç®¡ç† | list_maven_configs | åˆ—å‡º Maven é…ç½® |
| Maven ç®¡ç† | switch_maven_config | åˆ‡æ¢ Maven é…ç½® |
| AEM ç®¡ç† | get_aem_status | è·å– AEM å®ä¾‹çŠ¶æ€ |
| AEM ç®¡ç† | get_aem_version | è·å– AEM ç‰ˆæœ¬ä¿¡æ¯ |
| AEM ç®¡ç† | start_aem_instance | å¯åŠ¨ AEM å®ä¾‹ |
| AEM ç®¡ç† | stop_aem_instance | åœæ­¢ AEM å®ä¾‹ |
| è®¸å¯è¯ç®¡ç† | list_licenses | åˆ—å‡ºæ‰€æœ‰è®¸å¯è¯ |
| è®¸å¯è¯ç®¡ç† | import_license | å¯¼å…¥è®¸å¯è¯æ–‡ä»¶ |
| è®¸å¯è¯ç®¡ç† | delete_license | åˆ é™¤è®¸å¯è¯ |
| è®¸å¯è¯ç®¡ç† | parse_license | è§£æè®¸å¯è¯æ–‡ä»¶ä¿¡æ¯ |
| è®¸å¯è¯ç®¡ç† | apply_license | åº”ç”¨è®¸å¯è¯åˆ° AEM å®ä¾‹ |
| ç³»ç»Ÿæ“ä½œ | open_in_browser | åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ URL |
| ç³»ç»Ÿæ“ä½œ | open_in_finder | åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€ |
| ç³»ç»Ÿæ“ä½œ | open_terminal | æ‰“å¼€ç»ˆç«¯ |

---

## 3. æ•°æ®è®¾è®¡

### 3.1 æ•°æ®å­˜å‚¨ä½ç½®

| å¹³å° | é…ç½®ç›®å½• |
|------|---------|
| macOS | ~/.aem-env-manager/ |
| Windows | %APPDATA%\aem-env-manager\ |

### 3.2 æ–‡ä»¶ç»“æ„

| File | Description |
|------|------|
| config.yaml | å…¨å±€é…ç½®æ–‡ä»¶ |
| profiles/ | Profile é…ç½®ç›®å½• |
| profiles/{id}.yaml | å•ä¸ª Profile é…ç½® |
| maven-configs/ | Maven é…ç½®æ–‡ä»¶å¤‡ä»½ç›®å½• |
| licenses/ | AEM è®¸å¯è¯æ–‡ä»¶å­˜å‚¨ç›®å½• |
| backups/ | è‡ªåŠ¨å¤‡ä»½ç›®å½• |

### 3.3 å…¨å±€é…ç½®ç»“æ„ (config.yaml)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| version | string | é…ç½®æ–‡ä»¶ç‰ˆæœ¬ |
| paths.java_base_dir | string | Java æ‰«æç›®å½• |
| paths.node_base_dir | string | Node æ‰«æç›®å½• |
| paths.maven_home | string | Maven å®‰è£…è·¯å¾„ |
| paths.maven_settings_dir | string | Maven settings ç›®å½• |
| paths.maven_configs_dir | string | Maven é…ç½®å¤‡ä»½ç›®å½• |
| version_managers.java.tool | string | Java ç‰ˆæœ¬ç®¡ç†å·¥å…· (sdkman/jenv/manual) |
| version_managers.java.path | string | å·¥å…·å®‰è£…è·¯å¾„ |
| version_managers.node.tool | string | Node ç‰ˆæœ¬ç®¡ç†å·¥å…· (nvm/fnm/manual) |
| version_managers.node.path | string | å·¥å…·å®‰è£…è·¯å¾„ |
| java_versions[] | array | å·²æ³¨å†Œçš„ Java ç‰ˆæœ¬åˆ—è¡¨ |
| node_versions[] | array | å·²æ³¨å†Œçš„ Node ç‰ˆæœ¬åˆ—è¡¨ |
| maven_configs[] | array | Maven é…ç½®æ–‡ä»¶åˆ—è¡¨ |
| aem_instances[] | array | AEM å®ä¾‹åˆ—è¡¨ |
| licenses[] | array | AEM è®¸å¯è¯åˆ—è¡¨ |
| active_profile | string | å½“å‰æ¿€æ´»çš„ Profile ID |
| settings.auto_scan_on_startup | boolean | å¯åŠ¨æ—¶è‡ªåŠ¨æ‰«æï¼ˆé»˜è®¤ falseï¼‰ |
| settings.background_scan | boolean | åå°å®šæ—¶æ‰«æï¼ˆé»˜è®¤ falseï¼‰ |
| settings.scan_interval | number | æ‰«æé—´éš”ï¼ˆåˆ†é’Ÿï¼‰ |

### 3.4 Profile é…ç½®ç»“æ„

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | å”¯ä¸€æ ‡è¯† |
| name | string | æ˜¾ç¤ºåç§° |
| description | string | æè¿° |
| color | string | å›¾æ ‡é¢œè‰² |
| created_at | datetime | åˆ›å»ºæ—¶é—´ |
| updated_at | datetime | æ›´æ–°æ—¶é—´ |
| environment.java | string | Java ç‰ˆæœ¬ ID |
| environment.node | string | Node ç‰ˆæœ¬ ID |
| environment.maven | string | Maven é…ç½® ID |
| aem_instances[] | array | å…³è”çš„ AEM å®ä¾‹ ID |
| project_dir | string | é¡¹ç›®ç›®å½• |
| on_switch.open_project_dir | boolean | åˆ‡æ¢æ—¶æ‰“å¼€é¡¹ç›®ç›®å½• |
| on_switch.auto_start_aem | boolean | åˆ‡æ¢æ—¶è‡ªåŠ¨å¯åŠ¨ AEM |
| on_switch.run_script | string | åˆ‡æ¢æ—¶æ‰§è¡Œçš„è„šæœ¬ |
| env_vars | object | è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ |

### 3.5 AEM å®ä¾‹é…ç½®ç»“æ„

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | å”¯ä¸€æ ‡è¯† |
| name | string | æ˜¾ç¤ºåç§° |
| type | string | ç±»å‹ (author/publish) |
| url | string | è®¿é—®åœ°å€ |
| username | string | ç”¨æˆ·å |
| password | string | å¯†ç ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰ |
| jar_path | string | JAR æ–‡ä»¶è·¯å¾„ |
| run_dir | string | è¿è¡Œç›®å½• |
| jvm_args | string | JVM å‚æ•° |
| license_id | string | å…³è”çš„è®¸å¯è¯ IDï¼ˆä»… AEM 6.5ï¼‰ |

### 3.6 AEM è®¸å¯è¯é…ç½®ç»“æ„

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | å”¯ä¸€æ ‡è¯† |
| name | string | æ˜¾ç¤ºåç§° |
| file | string | è®¸å¯è¯æ–‡ä»¶åï¼ˆå­˜å‚¨åœ¨ licenses/ ç›®å½•ï¼‰ |
| customer_name | string | å®¢æˆ·åç§°ï¼ˆä»æ–‡ä»¶è§£æï¼‰ |
| product_version | string | äº§å“ç‰ˆæœ¬ï¼ˆä»æ–‡ä»¶è§£æï¼‰ |
| expiry_date | date | åˆ°æœŸæ—¥æœŸï¼ˆä»æ–‡ä»¶è§£æï¼‰ |
| download_id | string | ä¸‹è½½ IDï¼ˆä»æ–‡ä»¶è§£æï¼‰ |
| notes | string | å¤‡æ³¨ |
| created_at | datetime | å¯¼å…¥æ—¶é—´ |

---

## 4. ç•Œé¢è®¾è®¡

### 4.1 æ•´ä½“å¸ƒå±€

åº”ç”¨é‡‡ç”¨å·¦ä¾§å¯¼èˆª + å³ä¾§å†…å®¹åŒºçš„ç»å…¸å¸ƒå±€ï¼š

- **å·¦ä¾§**ï¼šå›ºå®šå®½åº¦çš„å¯¼èˆªæ ï¼ŒåŒ…å«å„åŠŸèƒ½æ¨¡å—å…¥å£
- **å³ä¾§**ï¼šä¸»å†…å®¹åŒºï¼Œæ ¹æ®å¯¼èˆªé€‰æ‹©æ˜¾ç¤ºä¸åŒé¡µé¢
- **åº•éƒ¨**ï¼šçŠ¶æ€æ ï¼Œæ˜¾ç¤ºå½“å‰ç¯å¢ƒçŠ¶æ€å’Œå¿«æ·æ“ä½œ

### 4.2 å¯¼èˆªç»“æ„

| å›¾æ ‡ | åç§° | åŠŸèƒ½ |
|------|------|------|
| ğŸ  | é¦–é¡µ | ä»ªè¡¨ç›˜ï¼Œç¯å¢ƒæ¦‚è§ˆ |
| ğŸ“‹ | ç¯å¢ƒé…ç½® | Profile ç®¡ç† |
| ğŸ–¥ï¸ | AEM å®ä¾‹ | AEM å®ä¾‹ç®¡ç† |
| â˜• | Java | Java ç‰ˆæœ¬ç®¡ç† |
| ğŸ“¦ | Node | Node ç‰ˆæœ¬ç®¡ç† |
| ğŸ”§ | Maven | Maven é…ç½®ç®¡ç† |
| ğŸ“œ | è®¸å¯è¯ | AEM è®¸å¯è¯ç®¡ç† |
| âš™ï¸ | è®¾ç½® | å…¨å±€è®¾ç½® |

### 4.3 é¦–é¡µä»ªè¡¨ç›˜è®¾è®¡

é¦–é¡µåˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š

#### 4.3.1 å½“å‰ç¯å¢ƒåŒº

- æ˜¾ç¤ºå½“å‰ Profile åç§°
- Profile åˆ‡æ¢ä¸‹æ‹‰èœå•
- å››ä¸ªçŠ¶æ€å¡ç‰‡ï¼šJavaã€Nodeã€Mavenã€é¡¹ç›®ç›®å½•

#### 4.3.2 AEM å®ä¾‹çŠ¶æ€åŒº

- æ˜¾ç¤ºå…³è”çš„ AEM å®ä¾‹å¡ç‰‡
- æ¯ä¸ªå¡ç‰‡æ˜¾ç¤ºï¼šçŠ¶æ€ã€ç‰ˆæœ¬ã€è¿è¡Œæ—¶é—´
- å¿«æ·æ“ä½œæŒ‰é’®ï¼šCRXDEã€åŒ…ç®¡ç†ã€åœæ­¢/å¯åŠ¨

#### 4.3.3 å¿«æ·æ“ä½œåŒº

- æ‰«æç¯å¢ƒæŒ‰é’®
- æ–°å»ºé…ç½®æŒ‰é’®
- æ·»åŠ å®ä¾‹æŒ‰é’®
- æ‰“å¼€ç»ˆç«¯æŒ‰é’®

---

## 5. æµç¨‹è®¾è®¡

### 5.1 åº”ç”¨å¯åŠ¨æµç¨‹

1. åŠ è½½ Tauri åº”ç”¨
2. æ£€æŸ¥é…ç½®ç›®å½•æ˜¯å¦å­˜åœ¨
3. è‹¥ä¸å­˜åœ¨ï¼Œæ ‡è®°ä¸ºé¦–æ¬¡ä½¿ç”¨
4. åŠ è½½ config.yamlï¼ˆè‹¥å­˜åœ¨ï¼‰
5. åˆå§‹åŒ–å‰ç«¯ React åº”ç”¨
6. è‹¥é¦–æ¬¡ä½¿ç”¨ï¼Œè·³è½¬åˆ°åˆå§‹åŒ–å‘å¯¼
7. å¦åˆ™ï¼ŒåŠ è½½é¦–é¡µä»ªè¡¨ç›˜

### 5.2 ç¯å¢ƒåˆ‡æ¢æµç¨‹

1. ç”¨æˆ·é€‰æ‹©ç›®æ ‡ Profile
2. å‰ç«¯è°ƒç”¨ validate_profile å‘½ä»¤
3. åç«¯æ£€æŸ¥ Profile ä¾èµ–çš„ç‰ˆæœ¬æ˜¯å¦å­˜åœ¨
4. è‹¥æœ‰é—®é¢˜ï¼Œè¿”å›å†²çªä¿¡æ¯ï¼Œå‰ç«¯æ˜¾ç¤ºå†²çªå¯¹è¯æ¡†
5. ç”¨æˆ·é€‰æ‹©æ›¿ä»£æ–¹æ¡ˆæˆ–å–æ¶ˆ
6. è‹¥æ— é—®é¢˜ï¼Œæ˜¾ç¤ºåˆ‡æ¢ç¡®è®¤å¯¹è¯æ¡†
7. ç”¨æˆ·ç¡®è®¤ï¼Œå‰ç«¯è°ƒç”¨ switch_profile å‘½ä»¤
8. åç«¯ä¾æ¬¡æ‰§è¡Œï¼šåˆ‡æ¢ Java â†’ åˆ‡æ¢ Node â†’ åˆ‡æ¢ Maven
9. æ›´æ–° active_profile é…ç½®
10. è¿”å›åˆ‡æ¢ç»“æœï¼Œå‰ç«¯åˆ·æ–°ç•Œé¢

### 5.3 Java ç‰ˆæœ¬åˆ‡æ¢æµç¨‹

æ ¹æ®é…ç½®çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œé‡‡ç”¨ä¸åŒç­–ç•¥ï¼š

#### 5.3.1 ä½¿ç”¨ SDKMAN (macOS)

1. æ‰§è¡Œå‘½ä»¤: `source ~/.sdkman/bin/sdkman-init.sh && sdk use java {version}`
2. éªŒè¯åˆ‡æ¢ç»“æœ

#### 5.3.2 æ‰‹åŠ¨ç®¡ç†

1. ä¿®æ”¹ç”¨æˆ·ç¯å¢ƒå˜é‡ JAVA_HOME
2. æ›´æ–° PATH å˜é‡
3. macOS: ä¿®æ”¹ ~/.zshrc æˆ– ~/.bash_profile
4. Windows: è°ƒç”¨ç³»ç»Ÿ API ä¿®æ”¹ç”¨æˆ·ç¯å¢ƒå˜é‡

### 5.4 AEM å®ä¾‹çŠ¶æ€æ£€æµ‹æµç¨‹

1. HTTP è¯·æ±‚å®ä¾‹ URL æ£€æµ‹æ˜¯å¦å¯è¾¾
2. è‹¥å¯è¾¾ï¼Œè¯·æ±‚ /system/console/status-productinfo.txt è·å–ç‰ˆæœ¬ä¿¡æ¯
3. è§£æå“åº”æå–ï¼šAEM ç‰ˆæœ¬ã€Oak ç‰ˆæœ¬ç­‰
4. è¿”å›çŠ¶æ€ä¿¡æ¯ç»™å‰ç«¯

### 5.5 AEM å®ä¾‹å¯åŠ¨/åœæ­¢æµç¨‹

#### 5.5.1 å¯åŠ¨æµç¨‹

1. æ£€æŸ¥ JAR è·¯å¾„æ˜¯å¦å­˜åœ¨
2. æ„å»ºå¯åŠ¨å‘½ä»¤: `java {jvm_args} -jar {jar_path}`
3. åœ¨æŒ‡å®šè¿è¡Œç›®å½•å¯åŠ¨è¿›ç¨‹
4. è®°å½•è¿›ç¨‹ PID
5. è½®è¯¢æ£€æµ‹å®ä¾‹æ˜¯å¦å¯åŠ¨æˆåŠŸ

#### 5.5.2 åœæ­¢æµç¨‹

1. æ£€æŸ¥å®ä¾‹æ˜¯å¦è¿è¡Œä¸­
2. å‘é€ SIGTERM ä¿¡å·ç»™è¿›ç¨‹
3. ç­‰å¾…è¿›ç¨‹é€€å‡ºï¼ˆè¶…æ—¶ 30 ç§’ï¼‰
4. è‹¥è¶…æ—¶ï¼Œå‘é€ SIGKILL å¼ºåˆ¶ç»ˆæ­¢

---

## 6. è·¨å¹³å°é€‚é…

### 6.1 å¹³å°å·®å¼‚å¤„ç†

| åŠŸèƒ½ | macOS | Windows |
|------|-------|---------|
| Java é»˜è®¤è·¯å¾„ | /Library/Java/JavaVirtualMachines | C:\Program Files\Java |
| Node é»˜è®¤è·¯å¾„ (nvm) | ~/.nvm/versions/node | %APPDATA%\nvm |
| Maven é»˜è®¤è·¯å¾„ | /usr/local/apache-maven | C:\Program Files\Apache\maven |
| ç¯å¢ƒå˜é‡ä¿®æ”¹ | ~/.zshrc æˆ– ~/.bash_profile | ç³»ç»Ÿç¯å¢ƒå˜é‡ API |
| Java ç‰ˆæœ¬ç®¡ç† | SDKMAN / jEnv | jabba / æ‰‹åŠ¨ |
| Node ç‰ˆæœ¬ç®¡ç† | nvm / fnm | nvm-windows / fnm |
| è¿›ç¨‹ç®¡ç† | kill å‘½ä»¤ | taskkill å‘½ä»¤ |
| æ–‡ä»¶ç®¡ç†å™¨ | open å‘½ä»¤ | explorer å‘½ä»¤ |
| é»˜è®¤ç»ˆç«¯ | Terminal.app | cmd.exe / PowerShell |

### 6.2 Rust æ¡ä»¶ç¼–è¯‘

ä½¿ç”¨ Rust çš„æ¡ä»¶ç¼–è¯‘ç‰¹æ€§å¤„ç†å¹³å°å·®å¼‚ï¼š

- `#[cfg(target_os = "macos")]` - macOS ç‰¹å®šä»£ç 
- `#[cfg(target_os = "windows")]` - Windows ç‰¹å®šä»£ç 
- `platform/mod.rs` - ç»Ÿä¸€æ¥å£å®šä¹‰
- `platform/macos.rs` - macOS å®ç°
- `platform/windows.rs` - Windows å®ç°

---

## 7. å®‰å…¨è®¾è®¡

### 7.1 å¯†ç å­˜å‚¨

- ä½¿ç”¨æ“ä½œç³»ç»Ÿ Keychain/Credential Manager å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- macOS: Keychain Services
- Windows: Windows Credential Manager
- é…ç½®æ–‡ä»¶ä¸­ä»…å­˜å‚¨åŠ å¯†åçš„å¼•ç”¨

### 7.2 å¯¼å‡ºæ–‡ä»¶åŠ å¯†

- å¯¼å‡ºæ—¶å¯†ç ä½¿ç”¨ AES-256 åŠ å¯†
- å¯¼å…¥æ—¶éœ€è¦è¾“å…¥è§£å¯†å¯†é’¥
- å¯é€‰æ‹©å¯¼å‡ºæ—¶ä¸åŒ…å«å¯†ç 

### 7.3 æƒé™æ§åˆ¶

- åº”ç”¨ä»…è¯·æ±‚å¿…è¦çš„ç³»ç»Ÿæƒé™
- æ–‡ä»¶æ“ä½œä»…é™äºé…ç½®ç›®å½•å’Œç”¨æˆ·æŒ‡å®šçš„è·¯å¾„
- ä¸æ”¶é›†æˆ–ä¸Šä¼ ä»»ä½•ç”¨æˆ·æ•°æ®

---

## 8. æ‰“åŒ…ä¸åˆ†å‘

### 8.1 æ„å»ºäº§ç‰©

| å¹³å° | æ ¼å¼ | è¯´æ˜ |
|------|------|------|
| macOS | .dmg | ç£ç›˜é•œåƒï¼Œæ‹–æ‹½å®‰è£… |
| macOS | .app | åº”ç”¨ç¨‹åºåŒ… |
| Windows | .msi | Windows å®‰è£…ç¨‹åº |
| Windows | .exe | ä¾¿æºç‰ˆå¯æ‰§è¡Œæ–‡ä»¶ |

### 8.2 æ„å»ºå‘½ä»¤

- å¼€å‘æ¨¡å¼: `npm run tauri dev`
- æ„å»ºç”Ÿäº§ç‰ˆæœ¬: `npm run tauri build`
- æ„å»ºç‰¹å®šå¹³å°: `npm run tauri build --target {target}`

### 8.3 ä»£ç ç­¾å

- macOS: ä½¿ç”¨ Apple Developer è¯ä¹¦ç­¾å
- Windows: ä½¿ç”¨ä»£ç ç­¾åè¯ä¹¦ç­¾å
- ç­¾ååå¯é¿å…å®‰å…¨è­¦å‘Š

---

## 9. åç»­æ‰©å±•

### 9.1 Phase 2 åŠŸèƒ½

- AEM æ—¥å¿—å®æ—¶æŸ¥çœ‹
- AEM åŒ…ä¸€é”®éƒ¨ç½²
- Maven æ„å»ºé›†æˆ
- Git ä»“åº“åˆ‡æ¢

### 9.2 Phase 3 åŠŸèƒ½

- å›¢é˜Ÿé…ç½®å…±äº«
- AEM Cloud ç¯å¢ƒé›†æˆ
- é¡¹ç›®æ¨¡æ¿/è„šæ‰‹æ¶
- æ’ä»¶ç³»ç»Ÿ
